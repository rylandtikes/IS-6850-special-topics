travis_fold:start:worker_info
[0K[33;1mWorker information[0m
hostname: 4d9e6119-3e1e-4dd7-a6cd-861a28afd263@1.worker-org-84d9455bb7-pwksk.gce-production-3
version: v6.2.20-1-g3a987d6 https://github.com/travis-ci/worker/tree/3a987d61ed169c9539ad435d1a9b5f2d8c6ce4a6
instance: travis-job-6e236ca6-d981-467a-a5b2-07a76e5d1a22 travis-ci-sardonyx-xenial-1593004276-4d46c6b3 (via amqp)
startup: 6.191768225s
travis_fold:end:worker_info
[0Ktravis_time:start:049a2ab4
[0Ktravis_time:end:049a2ab4:start=1605139088400934900,finish=1605139088546357468,duration=145422568,event=no_world_writable_dirs
[0Ktravis_time:start:0f37edd5
[0Ktravis_time:end:0f37edd5:start=1605139088549368899,finish=1605139088552254892,duration=2885993,event=setup_filter
[0Ktravis_time:start:1e3020cb
[0Ktravis_time:end:1e3020cb:start=1605139088558067347,finish=1605139088565983436,duration=7916089,event=agent
[0Ktravis_time:start:01dcda95
[0Ktravis_time:end:01dcda95:start=1605139088568804741,finish=1605139088570776387,duration=1971646,event=check_unsupported
[0Ktravis_time:start:1dcf9dac
[0Ktravis_fold:start:system_info
[0K[33;1mBuild system information[0m
Build language: generic
Build dist: xenial
Build id: 743058691
Job id: 743058692
Runtime kernel version: 4.15.0-1077-gcp
travis-build version: 07c42db3
[34m[1mBuild image provisioning date and time[0m
Wed Jun 24 13:36:52 UTC 2020
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 16.04.6 LTS
Release:	16.04
Codename:	xenial
[34m[1mSystemd Version[0m
systemd 229
[34m[1mCookbooks Version[0m
3f92a99 https://github.com/travis-ci/travis-cookbooks/tree/3f92a99
[34m[1mgit version[0m
git version 2.27.0
[34m[1mbash version[0m
GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)
[34m[1mgcc version[0m
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609
[34m[1mdocker version[0m
Client:
 Version:           18.06.0-ce
 API version:       1.38
 Go version:        go1.10.3
 Git commit:        0ffa825
 Built:             Wed Jul 18 19:11:02 2018
 OS/Arch:           linux/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.06.0-ce
  API version:      1.38 (minimum version 1.12)
  Go version:       go1.10.3
  Git commit:       0ffa825
  Built:            Wed Jul 18 19:09:05 2018
  OS/Arch:          linux/amd64
  Experimental:     false
[34m[1mclang version[0m
clang version 7.0.0 (tags/RELEASE_700/final)
[34m[1mjq version[0m
jq-1.5
[34m[1mbats version[0m
Bats 0.4.0
[34m[1mshellcheck version[0m
0.7.0
[34m[1mshfmt version[0m
v2.6.3
[34m[1mccache version[0m
3.2.4
[34m[1mcmake version[0m
cmake version 3.12.4
[34m[1mheroku version[0m
heroku/7.42.1 linux-x64 node-v12.16.2
[34m[1mimagemagick version[0m
Version: ImageMagick 6.8.9-9 Q16 x86_64 2019-11-12 http://www.imagemagick.org
[34m[1mmd5deep version[0m
4.4
[34m[1mmercurial version[0m
version 4.8
[34m[1mmysql version[0m
mysql  Ver 14.14 Distrib 5.7.30, for Linux (x86_64) using  EditLine wrapper
[34m[1mopenssl version[0m
OpenSSL 1.0.2g  1 Mar 2016
[34m[1mpacker version[0m
1.3.3
[34m[1mpostgresql client version[0m
psql (PostgreSQL) 10.13 (Ubuntu 10.13-1.pgdg16.04+1)
[34m[1mragel version[0m
Ragel State Machine Compiler version 6.8 Feb 2013
[34m[1msudo version[0m
1.8.16
[34m[1mgzip version[0m
gzip 1.6
[34m[1mzip version[0m
Zip 3.0
[34m[1mvim version[0m
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Mar 18 2020 14:06:17)
[34m[1miptables version[0m
iptables v1.6.0
[34m[1mcurl version[0m
curl 7.47.0 (x86_64-pc-linux-gnu) libcurl/7.47.0 GnuTLS/3.4.10 zlib/1.2.8 libidn/1.32 librtmp/2.3
[34m[1mwget version[0m
GNU Wget 1.17.1 built on linux-gnu.
[34m[1mrsync version[0m
rsync  version 3.1.1  protocol version 31
[34m[1mgimme version[0m
v1.5.4
[34m[1mnvm version[0m
0.35.3
[34m[1mperlbrew version[0m
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.88
[34m[1mphpenv version[0m
rbenv 1.1.2-30-gc879cb0
[34m[1mrvm version[0m
rvm 1.29.10 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
[34m[1mdefault ruby version[0m
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mElasticSearch version[0m
5.5.0
[34m[1mInstalled Firefox version[0m
firefox 63.0.1
[34m[1mMongoDB version[0m
MongoDB 4.0.19
[34m[1mPhantomJS version[0m
2.1.1
[34m[1mPre-installed PostgreSQL versions[0m
9.4.26
9.5.22
9.6.18
[34m[1mRedis version[0m
redis-server 6.0.5
[34m[1mPre-installed Go versions[0m
1.11.1
[34m[1mant version[0m
Apache Ant(TM) version 1.9.6 compiled on July 20 2018
[34m[1mmvn version[0m
Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)
[34m[1mgradle version[0m
Gradle 5.1.1!
[34m[1mlein version[0m
Leiningen 2.9.3 on Java 11.0.2 OpenJDK 64-Bit Server VM
[34m[1mPre-installed Node.js versions[0m
v10.21.0
v11.0.0
v12.18.1
v4.9.1
v6.17.1
v8.12.0
v8.17.0
v8.9
[34m[1mphpenv versions[0m
  system
  5.6
  5.6.40
  7.1
  7.1.27
  7.2
* 7.2.15 (set by /home/travis/.phpenv/version)
  hhvm
  hhvm-stable
[34m[1mcomposer --version[0m
Composer version 1.8.4 2019-02-11 10:52:10
[34m[1mPre-installed Ruby versions[0m
ruby-2.3.8
ruby-2.4.5
ruby-2.5.3
travis_fold:end:system_info
[0K
travis_time:end:1dcf9dac:start=1605139088573571083,finish=1605139088578679590,duration=5108507,event=show_system_info
[0Ktravis_time:start:00789f14
[0Ktravis_time:end:00789f14:start=1605139088581568836,finish=1605139088602493740,duration=20924904,event=rm_riak_source
[0Ktravis_time:start:0b07623d
[0Ktravis_time:end:0b07623d:start=1605139088630035382,finish=1605139088645326140,duration=15290758,event=fix_rwky_redis
[0Ktravis_time:start:321bc1b8
[0Ktravis_time:end:321bc1b8:start=1605139088649873528,finish=1605139089313580614,duration=663707086,event=wait_for_network
[0Ktravis_time:start:0fd53826
[0Ktravis_time:end:0fd53826:start=1605139089318841396,finish=1605139089534274769,duration=215433373,event=update_apt_keys
[0Ktravis_time:start:0162b514
[0Ktravis_time:end:0162b514:start=1605139089538586628,finish=1605139089590359161,duration=51772533,event=fix_hhvm_source
[0Ktravis_time:start:0f8b97b0
[0Ktravis_time:end:0f8b97b0:start=1605139089594869231,finish=1605139089597551721,duration=2682490,event=update_mongo_arch
[0Ktravis_time:start:10f67971
[0Ktravis_time:end:10f67971:start=1605139089603158884,finish=1605139089644152342,duration=40993458,event=fix_sudo_enabled_trusty
[0Ktravis_time:start:0874b900
[0Ktravis_time:end:0874b900:start=1605139089651645954,finish=1605139089654974312,duration=3328358,event=update_glibc
[0Ktravis_time:start:17beb84c
[0Ktravis_time:end:17beb84c:start=1605139089661646200,finish=1605139089670110194,duration=8463994,event=clean_up_path
[0Ktravis_time:start:0ea32624
[0Ktravis_time:end:0ea32624:start=1605139089674318996,finish=1605139089681937131,duration=7618135,event=fix_resolv_conf
[0Ktravis_time:start:01a2e352
[0Ktravis_time:end:01a2e352:start=1605139089688286314,finish=1605139089697856985,duration=9570671,event=fix_etc_hosts
[0Ktravis_time:start:0913fcaa
[0Ktravis_time:end:0913fcaa:start=1605139089702045183,finish=1605139089712215569,duration=10170386,event=fix_mvn_settings_xml
[0Ktravis_time:start:07f2cc04
[0Ktravis_time:end:07f2cc04:start=1605139089716150592,finish=1605139089726420716,duration=10270124,event=no_ipv6_localhost
[0Ktravis_time:start:00247ac4
[0Ktravis_time:end:00247ac4:start=1605139089731712102,finish=1605139089734207167,duration=2495065,event=fix_etc_mavenrc
[0Ktravis_time:start:259d93f9
[0Ktravis_time:end:259d93f9:start=1605139089741186219,finish=1605139089745121027,duration=3934808,event=fix_wwdr_certificate
[0Ktravis_time:start:23ab8f3c
[0Ktravis_time:end:23ab8f3c:start=1605139089751642499,finish=1605139089776501174,duration=24858675,event=put_localhost_first
[0Ktravis_time:start:068d7c0a
[0Ktravis_time:end:068d7c0a:start=1605139089781250167,finish=1605139089784366777,duration=3116610,event=home_paths
[0Ktravis_time:start:0404f5aa
[0Ktravis_time:end:0404f5aa:start=1605139089790572859,finish=1605139089803522804,duration=12949945,event=disable_initramfs
[0Ktravis_time:start:02084ef2
[0Ktravis_time:end:02084ef2:start=1605139089808155781,finish=1605139090121958873,duration=313803092,event=disable_ssh_roaming
[0Ktravis_time:start:2df16279
[0Ktravis_time:end:2df16279:start=1605139090127172540,finish=1605139090129524365,duration=2351825,event=debug_tools
[0Ktravis_time:start:126205ec
[0Ktravis_time:end:126205ec:start=1605139090135649754,finish=1605139090139824432,duration=4174678,event=uninstall_oclint
[0Ktravis_time:start:0f35fbaa
[0Ktravis_time:end:0f35fbaa:start=1605139090145331024,finish=1605139090149388754,duration=4057730,event=rvm_use
[0Ktravis_time:start:29c50080
[0Ktravis_time:end:29c50080:start=1605139090155789781,finish=1605139090164137376,duration=8347595,event=rm_etc_boto_cfg
[0Ktravis_time:start:05e5a7c4
[0Ktravis_time:end:05e5a7c4:start=1605139090168946511,finish=1605139090172585002,duration=3638491,event=rm_oraclejdk8_symlink
[0Ktravis_time:start:1c2cc688
[0Ktravis_time:end:1c2cc688:start=1605139090179379642,finish=1605139090275547002,duration=96167360,event=enable_i386
[0Ktravis_time:start:07169740
[0Ktravis_time:end:07169740:start=1605139090279638122,finish=1605139090286054158,duration=6416036,event=update_rubygems
[0Ktravis_time:start:0b6fa4fe
[0Ktravis_time:end:0b6fa4fe:start=1605139090293599107,finish=1605139091092612443,duration=799013336,event=ensure_path_components
[0Ktravis_time:start:0ca43178
[0Ktravis_time:end:0ca43178:start=1605139091097817542,finish=1605139091100790267,duration=2972725,event=redefine_curl
[0Ktravis_time:start:04142f04
[0Ktravis_time:end:04142f04:start=1605139091104755925,finish=1605139091204255685,duration=99499760,event=nonblock_pipe
[0Ktravis_time:start:1bcf651e
[0Ktravis_time:end:1bcf651e:start=1605139091210638542,finish=1605139097243294835,duration=6032656293,event=apt_get_update
[0Ktravis_time:start:003fdd64
[0Ktravis_time:end:003fdd64:start=1605139097248152647,finish=1605139097250820503,duration=2667856,event=deprecate_xcode_64
[0Ktravis_time:start:083e2159
[0Ktravis_time:end:083e2159:start=1605139097257432765,finish=1605139099900383949,duration=2642951184,event=update_heroku
[0Ktravis_time:start:14b1f430
[0Ktravis_time:end:14b1f430:start=1605139099904889665,finish=1605139099907281114,duration=2391449,event=shell_session_update
[0Ktravis_time:start:075c94e6
[0Ktravis_fold:start:docker_mtu_and_registry_mirrors
[0Ktravis_fold:end:docker_mtu_and_registry_mirrors
[0Ktravis_time:end:075c94e6:start=1605139099911265846,finish=1605139102490934520,duration=2579668674,event=set_docker_mtu_and_registry_mirrors
[0Ktravis_time:start:281bbe4d
[0Ktravis_fold:start:resolvconf
[0Ktravis_fold:end:resolvconf
[0Ktravis_time:end:281bbe4d:start=1605139102497550107,finish=1605139102561488567,duration=63938460,event=resolvconf
[0Ktravis_time:start:1bd681ec
[0Ktravis_time:end:1bd681ec:start=1605139102569137109,finish=1605139102709000605,duration=139863496,event=maven_central_mirror
[0Ktravis_time:start:04a63e11
[0Ktravis_time:end:04a63e11:start=1605139102713181983,finish=1605139102804787372,duration=91605389,event=maven_https
[0Ktravis_time:start:0062e300
[0Ktravis_fold:start:services
[0Ktravis_time:start:2384860e
[0K$ sudo systemctl start docker
travis_time:end:2384860e:start=1605139102813666019,finish=1605139102824795663,duration=11129644,event=prepare
[0Ktravis_fold:end:services
[0Ktravis_time:end:2384860e:start=1605139102813666019,finish=1605139105829951018,duration=3016284999,event=services
[0Ktravis_time:start:0a42dbfa
[0Ktravis_time:end:0a42dbfa:start=1605139105834539061,finish=1605139105836983083,duration=2444022,event=fix_ps4
[0Ktravis_time:start:1095b7f5
[0K
travis_fold:start:git.checkout
[0Ktravis_time:start:058273d8
[0K$ git clone --depth=50 --branch=main https://github.com/rylandtikes/multi-docker.git rylandtikes/multi-docker
Cloning into 'rylandtikes/multi-docker'...
travis_time:end:058273d8:start=1605139105844975085,finish=1605139106359105721,duration=514130636,event=checkout
[0K$ cd rylandtikes/multi-docker
$ git checkout -qf cea78186ed4d5ffff75dff6934a7ec1e750d905c
travis_fold:end:git.checkout
[0K
travis_time:end:058273d8:start=1605139105844975085,finish=1605139106367382773,duration=522407688,event=checkout
[0Ktravis_time:start:367f7b29
[0K
[33;1mSetting environment variables from repository settings[0m
$ export DOCKER_ID=[secure]
$ export DOCKER_PASSWORD=[secure]
$ export AWS_ACCESS_KEY=[secure]
$ export AWS_SECRET_KEY=[secure]

travis_time:end:367f7b29:start=1605139106370830138,finish=1605139106378801236,duration=7971098,event=env
[0K$ bash -c 'echo $BASH_VERSION'
4.3.48(1)-release

travis_fold:start:before_install
[0Ktravis_time:start:3d28a3de
[0K$ docker build -t [secure]/react-test -f ./client/Dockerfile.dev ./client
Sending build context to Docker daemon  56.83kB


Step 1/6 : FROM node:alpine
alpine: Pulling from library/node
cbdbe7a5bc2a: Pulling fs layer
a4b151823ee6: Pulling fs layer
d82c29f67600: Pulling fs layer
26f4460e3393: Pulling fs layer
26f4460e3393: Waiting
cbdbe7a5bc2a: Verifying Checksum
cbdbe7a5bc2a: Download complete
d82c29f67600: Verifying Checksum
d82c29f67600: Download complete
26f4460e3393: Verifying Checksum
26f4460e3393: Download complete
cbdbe7a5bc2a: Pull complete
a4b151823ee6: Verifying Checksum
a4b151823ee6: Download complete
a4b151823ee6: Pull complete
d82c29f67600: Pull complete
26f4460e3393: Pull complete
Digest: sha256:9b29750f00565f816a10b9aa9a5420c733164b59f72270360a18dce1af80183d
Status: Downloaded newer image for node:alpine
 ---> b3dce3e0529f
Step 2/6 : WORKDIR "/app"
 ---> Running in 29c3db811fa8
Removing intermediate container 29c3db811fa8
 ---> 275c1df7accf
Step 3/6 : COPY ./package.json ./
 ---> 242f9da86e41
Step 4/6 : RUN npm install
 ---> Running in 9fad1f4ddb1f
[91mnpm[0m[91m WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
[0m[91mnpm [0m[91mWARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
[0m[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
[0m[91mnpm WARN [0m[91mdeprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
[0m[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
[0m[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
[0m[91mnpm WARN[0m[91m deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
[0m[91mnpm WARN deprecated[0m[91m har-validator@5.1.5: this library is no longer supported
[0m[91mnpm [0m[91mWARN deprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142
[0m[91mnpm WARN deprecated[0m[91m left-pad@1.3.0: use String.prototype.padStart()
[0m[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
[0m[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated fsevents@2.1.2: Please update to latest version
[0m[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
[0m[91mnpm WARN deprecated eslint-loader@3.0.3: This loader has been deprecated. Please use eslint-webpack-plugin
[0m[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
[0m[91mnpm WARN [0m[91mdeprecated @types/testing-library__dom@7.5.0: This is a stub types definition. testing-library__dom provides its own type definitions, so you do not need this installed.
[0m[91mnpm WARN deprecated core-js@2.6.11: core-js@<3 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.
[0m
added 1963 packages, and audited 1963 packages in 59s

76 packages are looking for funding
  run `npm fund` for details

5 vulnerabilities (1 moderate, 4 high)

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
[91mnpm notice 
npm [0m[91mnotice New patch version of npm available! 7.0.8 -> 7.0.10
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v7.0.10>
npm notice Run `npm install -g npm@7.0.10` to update!
npm notice 
[0mRemoving intermediate container 9fad1f4ddb1f
 ---> ebfd04218cd0
Step 5/6 : COPY . .
 ---> 22a15dc6b112
Step 6/6 : CMD ["npm", "run", "start"]
 ---> Running in e742bac98fae
Removing intermediate container e742bac98fae
 ---> da32ab07fce6
Successfully built da32ab07fce6
Successfully tagged [secure]/react-test:latest
travis_time:end:3d28a3de:start=1605139106386752263,finish=1605139184263448887,duration=77876696624,event=before_install
[0Ktravis_fold:end:before_install
[0Ktravis_time:start:33f86762
[0K$ docker run -e CI=true [secure]/react-test npm test

> client@0.1.0 test
> react-scripts test

PASS src/App.test.js
  âœ“ renders learn react link (3ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        2.087s
Ran all test suites.
travis_time:end:33f86762:start=1605139184268395774,finish=1605139187936405007,duration=3668009233,event=script
[0K[32;1mThe command "docker run -e CI=true [secure]/react-test npm test" exited with 0.[0m

travis_fold:start:after_success.1
[0Ktravis_time:start:02e57560
[0K$ docker build -t [secure]/multi-client ./client
Sending build context to Docker daemon  56.83kB


Step 1/10 : FROM node:alpine as builder
 ---> b3dce3e0529f
Step 2/10 : WORKDIR '/app'
 ---> Using cache
 ---> 275c1df7accf
Step 3/10 : COPY ./package.json ./
 ---> Using cache
 ---> 242f9da86e41
Step 4/10 : RUN npm install
 ---> Using cache
 ---> ebfd04218cd0
Step 5/10 : COPY . .
 ---> Using cache
 ---> 22a15dc6b112
Step 6/10 : RUN npm run build
 ---> Running in 59f623182675

> client@0.1.0 build
> react-scripts build

Creating an optimized production build...
Compiled successfully.

File sizes after gzip:

  52.33 KB  build/static/js/2.04c3c698.chunk.js
  1.43 KB   build/static/js/main.ab440445.chunk.js
  773 B     build/static/js/runtime-main.09b85ec0.js
  531 B     build/static/css/main.435d5fe5.chunk.css

The project was built assuming it is hosted at /.
You can control this with the homepage field in your package.json.

The build folder is ready to be deployed.
You may serve it with a static server:

  npm install -g serve
  serve -s build

Find out more about deployment here:

  bit.ly/CRA-deploy

Removing intermediate container 59f623182675
 ---> b93c524b16a1
Step 7/10 : FROM nginx
latest: Pulling from library/nginx
bb79b6b2107f: Pulling fs layer
5a9f1c0027a7: Pulling fs layer
b5c20b2b484f: Pulling fs layer
166a2418f7e8: Pulling fs layer
1966ea362d23: Pulling fs layer
166a2418f7e8: Waiting
1966ea362d23: Waiting
b5c20b2b484f: Verifying Checksum
b5c20b2b484f: Download complete
166a2418f7e8: Verifying Checksum
166a2418f7e8: Download complete
1966ea362d23: Verifying Checksum
1966ea362d23: Download complete
bb79b6b2107f: Verifying Checksum
bb79b6b2107f: Download complete
5a9f1c0027a7: Verifying Checksum
5a9f1c0027a7: Download complete
bb79b6b2107f: Pull complete
5a9f1c0027a7: Pull complete
b5c20b2b484f: Pull complete
166a2418f7e8: Pull complete
1966ea362d23: Pull complete
Digest: sha256:aeade65e99e5d5e7ce162833636f692354c227ff438556e5f3ed0335b7cc2f1b
Status: Downloaded newer image for nginx:latest
 ---> c39a868aad02
Step 8/10 : EXPOSE 3000
 ---> Running in 149468c51e96
Removing intermediate container 149468c51e96
 ---> 56aeee224c51
Step 9/10 : COPY ./nginx/default.conf /etc/nginx/conf.d/default.conf
 ---> 49d56aad0f02
Step 10/10 : COPY --from=builder /app/build /usr/share/nginx/html
 ---> 14e5a189a937
Successfully built 14e5a189a937
Successfully tagged [secure]/multi-client:latest
travis_time:end:02e57560:start=1605139187948484632,finish=1605139205123154511,duration=17174669879,event=after_success
[0Ktravis_fold:end:after_success.1
[0Ktravis_fold:start:after_success.2
[0Ktravis_time:start:03d3f6ea
[0K$ docker build -t [secure]/multi-nginx ./nginx
Sending build context to Docker daemon  4.096kB


Step 1/2 : FROM nginx
 ---> c39a868aad02
Step 2/2 : COPY ./default.conf /etc/nginx/conf.d/default.conf
 ---> 2c78d52604af
Successfully built 2c78d52604af
Successfully tagged [secure]/multi-nginx:latest
travis_time:end:03d3f6ea:start=1605139205130576646,finish=1605139205427917184,duration=297340538,event=after_success
[0Ktravis_fold:end:after_success.2
[0Ktravis_fold:start:after_success.3
[0Ktravis_time:start:098db73e
[0K$ docker build -t [secure]/multi-server ./server
Sending build context to Docker daemon   7.68kB


Step 1/6 : FROM node:14.14.0-alpine
14.14.0-alpine: Pulling from library/node
cbdbe7a5bc2a: Already exists
378c9540b231: Pulling fs layer
fd5173d17220: Pulling fs layer
72f138d46980: Pulling fs layer
72f138d46980: Verifying Checksum
72f138d46980: Download complete
fd5173d17220: Verifying Checksum
fd5173d17220: Download complete
378c9540b231: Download complete
378c9540b231: Pull complete
fd5173d17220: Pull complete
72f138d46980: Pull complete
Digest: sha256:97c4cddbbf97299f5eda09946ba31d424c84848d4f4c1b7adef40e2e0d478345
Status: Downloaded newer image for node:14.14.0-alpine
 ---> fa2fa5d4e6f4
Step 2/6 : WORKDIR "/app"
 ---> Running in 480a15e0911d
Removing intermediate container 480a15e0911d
 ---> e87e80eaff5c
Step 3/6 : COPY ./package.json ./
 ---> 871a807f8f3b
Step 4/6 : RUN npm install
 ---> Running in 1cbd5e9c7848
[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
[0m[91mnpm[0m[91m [0m[91mWARN[0m[91m deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
[0m[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
[0m
> nodemon@1.18.3 postinstall /app/node_modules/nodemon
> node bin/postinstall || exit 0

[32mLove nodemon? You can now support the project via the open collective:[22m[39m
 > [96m[1mhttps://opencollective.com/nodemon/donate[0m

[91mnpm notice created a lockfile as package-lock.json. You should commit this file.
[0m[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):
[0m[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
[0m[91mnpm WARN app No description
[0m[91mnpm WARN app No repository field.
[0m[91mnpm WARN app No license field.
[0m[91m
[0madded 305 packages from 192 contributors and audited 306 packages in 6.287s
found 0 vulnerabilities

Removing intermediate container 1cbd5e9c7848
 ---> 544f699e854c
Step 5/6 : COPY . .
 ---> 35a141538db8
Step 6/6 : CMD ["npm", "run", "start"]
 ---> Running in 01f9ad4da10e
Removing intermediate container 01f9ad4da10e
 ---> c8725382f21e
Successfully built c8725382f21e
Successfully tagged [secure]/multi-server:latest
travis_time:end:098db73e:start=1605139205433844069,finish=1605139219147413976,duration=13713569907,event=after_success
[0Ktravis_fold:end:after_success.3
[0Ktravis_fold:start:after_success.4
[0Ktravis_time:start:0e03f850
[0K$ docker build -t [secure]/multi-worker ./worker
Sending build context to Docker daemon  6.144kB


Step 1/6 : FROM node:alpine
 ---> b3dce3e0529f
Step 2/6 : WORKDIR "/app"
 ---> Using cache
 ---> 275c1df7accf
Step 3/6 : COPY ./package.json ./
 ---> a6525c8bcea5
Step 4/6 : RUN npm install
 ---> Running in 41e72d47f58b
[91mnpm[0m[91m [0m[91mWARN[0m[91m [0m[91mdeprecated[0m[91m urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
[0m[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
[0m[91mnpm WARN[0m[91m deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
[0m
added 240 packages, and audited 240 packages in 8s

found 0 vulnerabilities
[91mnpm notice 
npm notice New patch version of npm available! 7.0.8 -> 7.0.10
npm notice Changelog: <https://github.com/npm/cli/releases/tag/v7.0.10>
npm[0m[91m notice Run `npm install -g npm@7.0.10` to update!
npm notice 
[0mRemoving intermediate container 41e72d47f58b
 ---> cd5420c2e56d
Step 5/6 : COPY . .
 ---> aa0bb10b1f55
Step 6/6 : CMD ["npm", "run", "start"]
 ---> Running in 5a3477e2f302
Removing intermediate container 5a3477e2f302
 ---> 63115bc96c51
Successfully built 63115bc96c51
Successfully tagged [secure]/multi-worker:latest
travis_time:end:0e03f850:start=1605139219152802171,finish=1605139229080875232,duration=9928073061,event=after_success
[0Ktravis_fold:end:after_success.4
[0Ktravis_fold:start:after_success.5
[0Ktravis_time:start:0d71ee70
[0K$ echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_ID" --password-stdin
WARNING! Your password will be stored unencrypted in /home/travis/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
travis_time:end:0d71ee70:start=1605139229087835829,finish=1605139229589634023,duration=501798194,event=after_success
[0Ktravis_fold:end:after_success.5
[0Ktravis_fold:start:after_success.6
[0Ktravis_time:start:17bc13b2
[0K$ docker push [secure]/multi-client
The push refers to repository [docker.io/[secure]/multi-client]
216670640705: Preparing
661ea2345dab: Preparing
7b5417cae114: Preparing
aee208b6ccfb: Preparing
2f57e21e4365: Preparing
2baf69a23d7a: Preparing
d0fe97fa8b8c: Preparing
2baf69a23d7a: Waiting
d0fe97fa8b8c: Waiting
7b5417cae114: Layer already exists
2f57e21e4365: Layer already exists
aee208b6ccfb: Layer already exists
2baf69a23d7a: Layer already exists
d0fe97fa8b8c: Layer already exists
661ea2345dab: Pushed
216670640705: Pushed
latest: digest: sha256:948fabc2b9e70f8923385f136d0fd9755b555ce1e703e9fb8c08849b98f0e724 size: 1779
travis_time:end:17bc13b2:start=1605139229594296395,finish=1605139236535298163,duration=6941001768,event=after_success
[0Ktravis_fold:end:after_success.6
[0Ktravis_fold:start:after_success.7
[0Ktravis_time:start:032bbc30
[0K$ docker push [secure]/multi-nginx
The push refers to repository [docker.io/[secure]/multi-nginx]
011cfafb4424: Preparing
7b5417cae114: Preparing
aee208b6ccfb: Preparing
2f57e21e4365: Preparing
2baf69a23d7a: Preparing
d0fe97fa8b8c: Preparing
d0fe97fa8b8c: Waiting
2baf69a23d7a: Layer already exists
7b5417cae114: Layer already exists
2f57e21e4365: Layer already exists
aee208b6ccfb: Layer already exists
d0fe97fa8b8c: Layer already exists
011cfafb4424: Pushed
latest: digest: sha256:75f74fa189999bffb9e2fe6a4009f549d54295ac7642b1594ee4992361f93ef5 size: 1569
travis_time:end:032bbc30:start=1605139236543586639,finish=1605139242893845588,duration=6350258949,event=after_success
[0Ktravis_fold:end:after_success.7
[0Ktravis_fold:start:after_success.8
[0Ktravis_time:start:030cd9f8
[0K$ docker push [secure]/multi-server
The push refers to repository [docker.io/[secure]/multi-server]
f1a4c38d84d7: Preparing
498d5b412fff: Preparing
cc408d293710: Preparing
731526d371df: Preparing
61f945ebd234: Preparing
0c56cb2aff7a: Preparing
44a4ced26d67: Preparing
3e207b409db3: Preparing
0c56cb2aff7a: Waiting
44a4ced26d67: Waiting
3e207b409db3: Waiting
61f945ebd234: Layer already exists
0c56cb2aff7a: Layer already exists
44a4ced26d67: Layer already exists
3e207b409db3: Layer already exists
f1a4c38d84d7: Pushed
731526d371df: Pushed
cc408d293710: Pushed
498d5b412fff: Pushed
latest: digest: sha256:ed7a9f64040345e25c37870a0c54321307b38ddbec4afa602682ee8fc27558b6 size: 1991
travis_time:end:030cd9f8:start=1605139242901465929,finish=1605139251244676290,duration=8343210361,event=after_success
[0Ktravis_fold:end:after_success.8
[0Ktravis_fold:start:after_success.9
[0Ktravis_time:start:02c1b289
[0K$ docker push [secure]/multi-worker
The push refers to repository [docker.io/[secure]/multi-worker]
326d4a35870f: Preparing
06f01945adcd: Preparing
3b87fcc55d2c: Preparing
ff4b240c613a: Preparing
675b9a4518fd: Preparing
519a6904cbad: Preparing
8db021fb3b7f: Preparing
3e207b409db3: Preparing
519a6904cbad: Waiting
8db021fb3b7f: Waiting
3e207b409db3: Waiting
675b9a4518fd: Layer already exists
519a6904cbad: Layer already exists
8db021fb3b7f: Layer already exists
3e207b409db3: Layer already exists
ff4b240c613a: Pushed
3b87fcc55d2c: Pushed
326d4a35870f: Pushed
06f01945adcd: Pushed
latest: digest: sha256:f691fac976f73c0f668eacb721e62c3ea4503e3a932887f89fb5a96dd518e249 size: 1990
travis_time:end:02c1b289:start=1605139251249785055,finish=1605139260187974447,duration=8938189392,event=after_success
[0Ktravis_fold:end:after_success.9
[0Ktravis_fold:start:dpl_0
[0Ktravis_time:start:1bda6bfe
[0K$ rvm $(travis_internal_ruby) --fuzzy do ruby -S gem install dpl
Successfully installed dpl-1.10.15
1 gem installed
travis_time:end:1bda6bfe:start=1605139261273507696,finish=1605139262588202893,duration=1314695197,event=after_success
[0Ktravis_fold:end:dpl_0
[0Ktravis_time:start:02503754
[0Ktravis_fold:start:dpl.1
[33mInstalling deploy dependencies[0m
Successfully installed jmespath-1.4.0
Successfully installed aws-eventstream-1.1.0
Successfully installed aws-sigv4-1.2.2
AWS SDK For Ruby V2 has been marked as deprecated. Please upgrade to AWS SDK For Ruby V3.
Successfully installed aws-sdk-core-2.11.625
AWS SDK For Ruby V2 has been marked as deprecated. Please upgrade to AWS SDK For Ruby V3.
Successfully installed aws-sdk-resources-2.11.625
AWS SDK For Ruby V2 has been marked as deprecated. Please upgrade to AWS SDK For Ruby V3.
Successfully installed aws-sdk-2.11.625
Successfully installed rubyzip-1.3.0
Successfully installed dpl-elastic_beanstalk-1.10.15
8 gems installed

!!! AWS Elastic Beanstalk support is experimental !!!


travis_fold:end:dpl.1
travis_fold:start:dpl.2
[33mPreparing deploy[0m
Cleaning up git repository with `git stash --all`. If you need build artifacts for deployment, set `deploy.skip_cleanup: true`. See https://docs.travis-ci.com/user/deployment#Uploading-Files-and-skip_cleanup.
No local changes to save
Version 2 of the Ruby SDK will enter maintenance mode as of November 20, 2020. To continue receiving service updates and new features, please upgrade to Version 3. More information can be found here: https://aws.amazon.com/blogs/developer/deprecation-schedule-for-aws-sdk-for-ruby-v2/

travis_fold:end:dpl.2
travis_fold:start:dpl.3
[33mDeploying application[0m

travis_fold:end:dpl.3
No stash entries found.
travis_time:end:02503754:start=1605139262595184567,finish=1605139272429968021,duration=9834783454,event=after_success
[0K
Done. Your build exited with 0.