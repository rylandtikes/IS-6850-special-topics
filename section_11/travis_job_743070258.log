travis_fold:start:worker_info
[0K[33;1mWorker information[0m
hostname: 772fff74-8612-4981-9f83-8bb6cf95b2a2@1.worker-org-677d44d4f7-hldtq.gce-production-3
version: v6.2.20-1-g3a987d6 https://github.com/travis-ci/worker/tree/3a987d61ed169c9539ad435d1a9b5f2d8c6ce4a6
instance: travis-job-60a3c0cc-f5df-4c4e-a656-875da60ca49a travis-ci-sardonyx-xenial-1593004276-4d46c6b3 (via amqp)
startup: 6.316742726s
travis_fold:end:worker_info
[0Ktravis_time:start:094dafc6
[0Ktravis_time:end:094dafc6:start=1605143437619934833,finish=1605143437764526372,duration=144591539,event=no_world_writable_dirs
[0Ktravis_time:start:174ec7f0
[0Ktravis_time:end:174ec7f0:start=1605143437767077301,finish=1605143437769871364,duration=2794063,event=setup_filter
[0Ktravis_time:start:13aae7a8
[0Ktravis_time:end:13aae7a8:start=1605143437774187274,finish=1605143437786674994,duration=12487720,event=agent
[0Ktravis_time:start:241f2580
[0Ktravis_time:end:241f2580:start=1605143437790497306,finish=1605143437793080086,duration=2582780,event=check_unsupported
[0Ktravis_time:start:2ecb0ec2
[0Ktravis_fold:start:system_info
[0K[33;1mBuild system information[0m
Build language: generic
Build dist: xenial
Build id: 743070257
Job id: 743070258
Runtime kernel version: 4.15.0-1077-gcp
travis-build version: 07c42db3
[34m[1mBuild image provisioning date and time[0m
Wed Jun 24 13:36:52 UTC 2020
[34m[1mOperating System Details[0m
Distributor ID:	Ubuntu
Description:	Ubuntu 16.04.6 LTS
Release:	16.04
Codename:	xenial
[34m[1mSystemd Version[0m
systemd 229
[34m[1mCookbooks Version[0m
3f92a99 https://github.com/travis-ci/travis-cookbooks/tree/3f92a99
[34m[1mgit version[0m
git version 2.27.0
[34m[1mbash version[0m
GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)
[34m[1mgcc version[0m
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609
[34m[1mdocker version[0m
Client:
 Version:           18.06.0-ce
 API version:       1.38
 Go version:        go1.10.3
 Git commit:        0ffa825
 Built:             Wed Jul 18 19:11:02 2018
 OS/Arch:           linux/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.06.0-ce
  API version:      1.38 (minimum version 1.12)
  Go version:       go1.10.3
  Git commit:       0ffa825
  Built:            Wed Jul 18 19:09:05 2018
  OS/Arch:          linux/amd64
  Experimental:     false
[34m[1mclang version[0m
clang version 7.0.0 (tags/RELEASE_700/final)
[34m[1mjq version[0m
jq-1.5
[34m[1mbats version[0m
Bats 0.4.0
[34m[1mshellcheck version[0m
0.7.0
[34m[1mshfmt version[0m
v2.6.3
[34m[1mccache version[0m
3.2.4
[34m[1mcmake version[0m
cmake version 3.12.4
[34m[1mheroku version[0m
heroku/7.42.1 linux-x64 node-v12.16.2
[34m[1mimagemagick version[0m
Version: ImageMagick 6.8.9-9 Q16 x86_64 2019-11-12 http://www.imagemagick.org
[34m[1mmd5deep version[0m
4.4
[34m[1mmercurial version[0m
version 4.8
[34m[1mmysql version[0m
mysql  Ver 14.14 Distrib 5.7.30, for Linux (x86_64) using  EditLine wrapper
[34m[1mopenssl version[0m
OpenSSL 1.0.2g  1 Mar 2016
[34m[1mpacker version[0m
1.3.3
[34m[1mpostgresql client version[0m
psql (PostgreSQL) 10.13 (Ubuntu 10.13-1.pgdg16.04+1)
[34m[1mragel version[0m
Ragel State Machine Compiler version 6.8 Feb 2013
[34m[1msudo version[0m
1.8.16
[34m[1mgzip version[0m
gzip 1.6
[34m[1mzip version[0m
Zip 3.0
[34m[1mvim version[0m
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Mar 18 2020 14:06:17)
[34m[1miptables version[0m
iptables v1.6.0
[34m[1mcurl version[0m
curl 7.47.0 (x86_64-pc-linux-gnu) libcurl/7.47.0 GnuTLS/3.4.10 zlib/1.2.8 libidn/1.32 librtmp/2.3
[34m[1mwget version[0m
GNU Wget 1.17.1 built on linux-gnu.
[34m[1mrsync version[0m
rsync  version 3.1.1  protocol version 31
[34m[1mgimme version[0m
v1.5.4
[34m[1mnvm version[0m
0.35.3
[34m[1mperlbrew version[0m
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.88
[34m[1mphpenv version[0m
rbenv 1.1.2-30-gc879cb0
[34m[1mrvm version[0m
rvm 1.29.10 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
[34m[1mdefault ruby version[0m
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
[34m[1mCouchDB version[0m
couchdb 1.6.1
[34m[1mElasticSearch version[0m
5.5.0
[34m[1mInstalled Firefox version[0m
firefox 63.0.1
[34m[1mMongoDB version[0m
MongoDB 4.0.19
[34m[1mPhantomJS version[0m
2.1.1
[34m[1mPre-installed PostgreSQL versions[0m
9.4.26
9.5.22
9.6.18
[34m[1mRedis version[0m
redis-server 6.0.5
[34m[1mPre-installed Go versions[0m
1.11.1
[34m[1mant version[0m
Apache Ant(TM) version 1.9.6 compiled on July 20 2018
[34m[1mmvn version[0m
Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)
[34m[1mgradle version[0m
Gradle 5.1.1!
[34m[1mlein version[0m
Leiningen 2.9.3 on Java 11.0.2 OpenJDK 64-Bit Server VM
[34m[1mPre-installed Node.js versions[0m
v10.21.0
v11.0.0
v12.18.1
v4.9.1
v6.17.1
v8.12.0
v8.17.0
v8.9
[34m[1mphpenv versions[0m
  system
  5.6
  5.6.40
  7.1
  7.1.27
  7.2
* 7.2.15 (set by /home/travis/.phpenv/version)
  hhvm
  hhvm-stable
[34m[1mcomposer --version[0m
Composer version 1.8.4 2019-02-11 10:52:10
[34m[1mPre-installed Ruby versions[0m
ruby-2.3.8
ruby-2.4.5
ruby-2.5.3
travis_fold:end:system_info
[0K
travis_time:end:2ecb0ec2:start=1605143437797492602,finish=1605143437806287125,duration=8794523,event=show_system_info
[0Ktravis_time:start:005ef0d9
[0Ktravis_time:end:005ef0d9:start=1605143437810192924,finish=1605143437832453821,duration=22260897,event=rm_riak_source
[0Ktravis_time:start:1edea23c
[0Ktravis_time:end:1edea23c:start=1605143437836393793,finish=1605143437841832967,duration=5439174,event=fix_rwky_redis
[0Ktravis_time:start:3126da5d
[0Ktravis_time:end:3126da5d:start=1605143437844977544,finish=1605143438332680422,duration=487702878,event=wait_for_network
[0Ktravis_time:start:2124949e
[0Ktravis_time:end:2124949e:start=1605143438337496658,finish=1605143438581706814,duration=244210156,event=update_apt_keys
[0Ktravis_time:start:04cc6264
[0Ktravis_time:end:04cc6264:start=1605143438586099317,finish=1605143438638273384,duration=52174067,event=fix_hhvm_source
[0Ktravis_time:start:188b031c
[0Ktravis_time:end:188b031c:start=1605143438642860252,finish=1605143438645658968,duration=2798716,event=update_mongo_arch
[0Ktravis_time:start:0a476819
[0Ktravis_time:end:0a476819:start=1605143438649320658,finish=1605143438691142922,duration=41822264,event=fix_sudo_enabled_trusty
[0Ktravis_time:start:0101f364
[0Ktravis_time:end:0101f364:start=1605143438695485297,finish=1605143438698390794,duration=2905497,event=update_glibc
[0Ktravis_time:start:0240ffc0
[0Ktravis_time:end:0240ffc0:start=1605143438702322211,finish=1605143438710344829,duration=8022618,event=clean_up_path
[0Ktravis_time:start:00d20827
[0Ktravis_time:end:00d20827:start=1605143438714469930,finish=1605143438723120633,duration=8650703,event=fix_resolv_conf
[0Ktravis_time:start:0c0626b8
[0Ktravis_time:end:0c0626b8:start=1605143438726665832,finish=1605143438735763205,duration=9097373,event=fix_etc_hosts
[0Ktravis_time:start:01521328
[0Ktravis_time:end:01521328:start=1605143438740265905,finish=1605143438752263512,duration=11997607,event=fix_mvn_settings_xml
[0Ktravis_time:start:00c55413
[0Ktravis_time:end:00c55413:start=1605143438759502281,finish=1605143438769593666,duration=10091385,event=no_ipv6_localhost
[0Ktravis_time:start:01d4a2b8
[0Ktravis_time:end:01d4a2b8:start=1605143438774442443,finish=1605143438777174549,duration=2732106,event=fix_etc_mavenrc
[0Ktravis_time:start:1360538a
[0Ktravis_time:end:1360538a:start=1605143438781282416,finish=1605143438785031538,duration=3749122,event=fix_wwdr_certificate
[0Ktravis_time:start:0d5a8135
[0Ktravis_time:end:0d5a8135:start=1605143438790236328,finish=1605143438815148398,duration=24912070,event=put_localhost_first
[0Ktravis_time:start:02c1da88
[0Ktravis_time:end:02c1da88:start=1605143438819709761,finish=1605143438823187869,duration=3478108,event=home_paths
[0Ktravis_time:start:27e614aa
[0Ktravis_time:end:27e614aa:start=1605143438828041460,finish=1605143438841928996,duration=13887536,event=disable_initramfs
[0Ktravis_time:start:05475764
[0Ktravis_time:end:05475764:start=1605143438846209594,finish=1605143439283134700,duration=436925106,event=disable_ssh_roaming
[0Ktravis_time:start:04b6cab6
[0Ktravis_time:end:04b6cab6:start=1605143439288290312,finish=1605143439291121530,duration=2831218,event=debug_tools
[0Ktravis_time:start:0be9915b
[0Ktravis_time:end:0be9915b:start=1605143439295436745,finish=1605143439298447475,duration=3010730,event=uninstall_oclint
[0Ktravis_time:start:0d05402b
[0Ktravis_time:end:0d05402b:start=1605143439302583114,finish=1605143439305907656,duration=3324542,event=rvm_use
[0Ktravis_time:start:0070e798
[0Ktravis_time:end:0070e798:start=1605143439310579695,finish=1605143439319033277,duration=8453582,event=rm_etc_boto_cfg
[0Ktravis_time:start:23f32dac
[0Ktravis_time:end:23f32dac:start=1605143439323107273,finish=1605143439327120429,duration=4013156,event=rm_oraclejdk8_symlink
[0Ktravis_time:start:2165c900
[0Ktravis_time:end:2165c900:start=1605143439331952816,finish=1605143439438355084,duration=106402268,event=enable_i386
[0Ktravis_time:start:18623fb5
[0Ktravis_time:end:18623fb5:start=1605143439442605118,finish=1605143439448547549,duration=5942431,event=update_rubygems
[0Ktravis_time:start:0546b040
[0Ktravis_time:end:0546b040:start=1605143439452784525,finish=1605143440275986086,duration=823201561,event=ensure_path_components
[0Ktravis_time:start:2691e700
[0Ktravis_time:end:2691e700:start=1605143440280669059,finish=1605143440283186039,duration=2516980,event=redefine_curl
[0Ktravis_time:start:2a659ee6
[0Ktravis_time:end:2a659ee6:start=1605143440287303318,finish=1605143440419224025,duration=131920707,event=nonblock_pipe
[0Ktravis_time:start:0633cbd0
[0Ktravis_time:end:0633cbd0:start=1605143440423425736,finish=1605143446456598051,duration=6033172315,event=apt_get_update
[0Ktravis_time:start:03c86f88
[0Ktravis_time:end:03c86f88:start=1605143446461095798,finish=1605143446463828871,duration=2733073,event=deprecate_xcode_64
[0Ktravis_time:start:0015e627
[0Ktravis_time:end:0015e627:start=1605143446469046564,finish=1605143449377258667,duration=2908212103,event=update_heroku
[0Ktravis_time:start:093eb0a7
[0Ktravis_time:end:093eb0a7:start=1605143449383897610,finish=1605143449386368461,duration=2470851,event=shell_session_update
[0Ktravis_time:start:1294c91c
[0Ktravis_fold:start:docker_mtu_and_registry_mirrors
[0Ktravis_fold:end:docker_mtu_and_registry_mirrors
[0Ktravis_time:end:1294c91c:start=1605143449391891261,finish=1605143452041266030,duration=2649374769,event=set_docker_mtu_and_registry_mirrors
[0Ktravis_time:start:02fe4304
[0Ktravis_fold:start:resolvconf
[0Ktravis_fold:end:resolvconf
[0Ktravis_time:end:02fe4304:start=1605143452046968623,finish=1605143452118766891,duration=71798268,event=resolvconf
[0Ktravis_time:start:02a9810c
[0Ktravis_time:end:02a9810c:start=1605143452131086146,finish=1605143452290395253,duration=159309107,event=maven_central_mirror
[0Ktravis_time:start:1be5a42d
[0Ktravis_time:end:1be5a42d:start=1605143452298022831,finish=1605143452389523770,duration=91500939,event=maven_https
[0Ktravis_time:start:1909006d
[0Ktravis_fold:start:services
[0Ktravis_time:start:137f14c8
[0K$ sudo systemctl start docker
travis_time:end:137f14c8:start=1605143452398048111,finish=1605143452410283861,duration=12235750,event=prepare
[0Ktravis_fold:end:services
[0Ktravis_time:end:137f14c8:start=1605143452398048111,finish=1605143455416369062,duration=3018320951,event=services
[0Ktravis_time:start:0c7ea474
[0Ktravis_time:end:0c7ea474:start=1605143455421090805,finish=1605143455423714879,duration=2624074,event=fix_ps4
[0Ktravis_time:start:304bae58
[0K
travis_fold:start:git.checkout
[0Ktravis_time:start:0adf158b
[0K$ git clone --depth=50 --branch=main https://github.com/rylandtikes/multi-docker.git rylandtikes/multi-docker
Cloning into 'rylandtikes/multi-docker'...
travis_time:end:0adf158b:start=1605143455431592586,finish=1605143455896898922,duration=465306336,event=checkout
[0K$ cd rylandtikes/multi-docker
$ git checkout -qf 95e6978af273e8a1ea9ad70e9125b4aabf773d78
travis_fold:end:git.checkout
[0K
travis_time:end:0adf158b:start=1605143455431592586,finish=1605143455906800545,duration=475207959,event=checkout
[0Ktravis_time:start:1508fc68
[0K
[33;1mSetting environment variables from repository settings[0m
$ export DOCKER_ID=[secure]
$ export DOCKER_PASSWORD=[secure]
$ export AWS_ACCESS_KEY=[secure]
$ export AWS_SECRET_KEY=[secure]

travis_time:end:1508fc68:start=1605143455911015511,finish=1605143455920153211,duration=9137700,event=env
[0K$ bash -c 'echo $BASH_VERSION'
4.3.48(1)-release

travis_fold:start:before_install
[0Ktravis_time:start:115f927e
[0K$ docker build -t [secure]/react-test -f ./client/Dockerfile.dev ./client
Sending build context to Docker daemon  57.34kB


Step 1/6 : FROM node:alpine
alpine: Pulling from library/node
cbdbe7a5bc2a: Pulling fs layer
a4b151823ee6: Pulling fs layer
d82c29f67600: Pulling fs layer
26f4460e3393: Pulling fs layer
26f4460e3393: Waiting
d82c29f67600: Verifying Checksum
d82c29f67600: Download complete
cbdbe7a5bc2a: Verifying Checksum
cbdbe7a5bc2a: Download complete
26f4460e3393: Verifying Checksum
26f4460e3393: Download complete
cbdbe7a5bc2a: Pull complete
a4b151823ee6: Verifying Checksum
a4b151823ee6: Download complete
a4b151823ee6: Pull complete
d82c29f67600: Pull complete
26f4460e3393: Pull complete
Digest: sha256:9b29750f00565f816a10b9aa9a5420c733164b59f72270360a18dce1af80183d
Status: Downloaded newer image for node:alpine
 ---> b3dce3e0529f
Step 2/6 : WORKDIR "/app"
 ---> Running in c8069089e78b
Removing intermediate container c8069089e78b
 ---> c8c8f96175e0
Step 3/6 : COPY ./package.json ./
 ---> e3bf327f9e53
Step 4/6 : RUN npm install
 ---> Running in edafb9e43d37
[91mnpm[0m[91m WARN deprecated @hapi/topo@3.1.6: This version has been deprecated and is no longer supported or maintained
[0m[91mnpm WARN deprecated @hapi/bourne@1.3.2: This version has been deprecated and is no longer supported or maintained
[0m[91mnpm WARN deprecated @hapi/address@2.1.4: Moved to 'npm install @sideway/address'
[0m[91mnpm WARN deprecated @hapi/hoek@8.5.1: This version has been deprecated and is no longer supported or maintained
[0m[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
[0m[91mnpm WARN [0m[91mdeprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
[0m[91mnpm WARN deprecated @hapi/joi@15.1.1: Switch to 'npm install joi'
[0m[91mnpm WARN deprecated[0m[91m har-validator@5.1.5: this library is no longer supported
[0m[91mnpm WARN [0m[91mdeprecated request-promise-native@1.0.9: request-promise-native has been deprecated because it extends the now deprecated request package, see https://github.com/request/request/issues/3142
[0m[91mnpm [0m[91mWARN deprecated left-pad@1.3.0: use String.prototype.padStart()
[0m[91mnpm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142
[0m[91mnpm WARN [0m[91mdeprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN[0m[91m deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
[0m[91mnpm WARN deprecated[0m[91m fsevents@2.1.2: Please update to latest version
[0m[91mnpm WARN deprecated eslint-loader@3.0.3: This loader has been deprecated. Please use eslint-webpack-plugin
[0m[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
[0m[91mnpm WARN deprecated @types/testing-library__dom@7.5.0: This is a stub types definition. testing-library__dom provides its own type definitions, so you do not need this installed.
[0m[91mnpm WARN deprecated core-js@2.6.11: core-js@<3 is no longer maintained and not recommended for usage due to the number of issues. Please, upgrade your dependencies to the actual version of core-js@3.
[0m
added 1963 packages, and audited 1963 packages in 1m

76 packages are looking for funding
  run `npm fund` for details

5 vulnerabilities (1 moderate, 4 high)

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
[91mnpm notice 
npm notice New patch version of npm available! 7.0.8 -> 7.0.10
npm notice[0m[91m Changelog: <https://github.com/npm/cli/releases/tag/v7.0.10>
npm notice Run `npm install -g npm@7.0.10` to update!
npm notice 
[0mRemoving intermediate container edafb9e43d37
 ---> cc1c60fc6493
Step 5/6 : COPY . .
 ---> 4daf85b40453
Step 6/6 : CMD ["npm", "run", "start"]
 ---> Running in 49706ac33985
Removing intermediate container 49706ac33985
 ---> 7a7400170f00
Successfully built 7a7400170f00
Successfully tagged [secure]/react-test:latest
travis_time:end:115f927e:start=1605143455927080402,finish=1605143537405362962,duration=81478282560,event=before_install
[0Ktravis_fold:end:before_install
[0Ktravis_time:start:09713ab4
[0K$ docker run -e CI=true [secure]/react-test npm test

> client@0.1.0 test
> react-scripts test

PASS src/App.test.js
  Ã¢Å“â€œ renders learn react link (2ms)

Test Suites: 1 passed, 1 total
Tests:       1 passed, 1 total
Snapshots:   0 total
Time:        2.11s
Ran all test suites.
travis_time:end:09713ab4:start=1605143537411336078,finish=1605143541141356336,duration=3730020258,event=script
[0K[32;1mThe command "docker run -e CI=true [secure]/react-test npm test" exited with 0.[0m

travis_fold:start:after_success.1
[0Ktravis_time:start:07833120
[0K$ docker build -t [secure]/multi-client ./client
Sending build context to Docker daemon  57.34kB


Step 1/10 : FROM node:alpine as builder
 ---> b3dce3e0529f
Step 2/10 : WORKDIR '/app'
 ---> Using cache
 ---> c8c8f96175e0
Step 3/10 : COPY ./package.json ./
 ---> Using cache
 ---> e3bf327f9e53
Step 4/10 : RUN npm install
 ---> Using cache
 ---> cc1c60fc6493
Step 5/10 : COPY . .
 ---> Using cache
 ---> 4daf85b40453
Step 6/10 : RUN npm run build
 ---> Running in e2e480c97dbd

> client@0.1.0 build
> react-scripts build

Creating an optimized production build...
Compiled successfully.

File sizes after gzip:

  52.33 KB  build/static/js/2.04c3c698.chunk.js
  1.43 KB   build/static/js/main.eb49cf62.chunk.js
  773 B     build/static/js/runtime-main.09b85ec0.js
  531 B     build/static/css/main.435d5fe5.chunk.css

The project was built assuming it is hosted at /.
You can control this with the homepage field in your package.json.

The build folder is ready to be deployed.
You may serve it with a static server:

  npm install -g serve
  serve -s build

Find out more about deployment here:

  bit.ly/CRA-deploy

Removing intermediate container e2e480c97dbd
 ---> a5a1c32333ef
Step 7/10 : FROM nginx
latest: Pulling from library/nginx
bb79b6b2107f: Pulling fs layer
5a9f1c0027a7: Pulling fs layer
b5c20b2b484f: Pulling fs layer
166a2418f7e8: Pulling fs layer
1966ea362d23: Pulling fs layer
166a2418f7e8: Waiting
1966ea362d23: Waiting
b5c20b2b484f: Verifying Checksum
b5c20b2b484f: Download complete
166a2418f7e8: Verifying Checksum
166a2418f7e8: Download complete
1966ea362d23: Verifying Checksum
1966ea362d23: Download complete
bb79b6b2107f: Verifying Checksum
bb79b6b2107f: Download complete
5a9f1c0027a7: Verifying Checksum
5a9f1c0027a7: Download complete
bb79b6b2107f: Pull complete
5a9f1c0027a7: Pull complete
b5c20b2b484f: Pull complete
166a2418f7e8: Pull complete
1966ea362d23: Pull complete
Digest: sha256:aeade65e99e5d5e7ce162833636f692354c227ff438556e5f3ed0335b7cc2f1b
Status: Downloaded newer image for nginx:latest
 ---> c39a868aad02
Step 8/10 : EXPOSE 3000
 ---> Running in 20084d8798c0
Removing intermediate container 20084d8798c0
 ---> c506b2f28c31
Step 9/10 : COPY ./nginx/default.conf /etc/nginx/conf.d/default.conf
 ---> fd31894b430b
Step 10/10 : COPY --from=builder /app/build /usr/share/nginx/html
 ---> fdcdc0dc9379
Successfully built fdcdc0dc9379
Successfully tagged [secure]/multi-client:latest
travis_time:end:07833120:start=1605143541145654193,finish=1605143558636347479,duration=17490693286,event=after_success
[0Ktravis_fold:end:after_success.1
[0Ktravis_fold:start:after_success.2
[0Ktravis_time:start:1b96a3d7
[0K$ docker build -t [secure]/multi-nginx ./nginx
Sending build context to Docker daemon  4.096kB


Step 1/2 : FROM nginx
 ---> c39a868aad02
Step 2/2 : COPY ./default.conf /etc/nginx/conf.d/default.conf
 ---> 2cc6bb576e82
Successfully built 2cc6bb576e82
Successfully tagged [secure]/multi-nginx:latest
travis_time:end:1b96a3d7:start=1605143558642796898,finish=1605143558940637852,duration=297840954,event=after_success
[0Ktravis_fold:end:after_success.2
[0Ktravis_fold:start:after_success.3
[0Ktravis_time:start:20b16550
[0K$ docker build -t [secure]/multi-server ./server
Sending build context to Docker daemon   7.68kB


Step 1/6 : FROM node:14.14.0-alpine
14.14.0-alpine: Pulling from library/node
cbdbe7a5bc2a: Already exists
378c9540b231: Pulling fs layer
fd5173d17220: Pulling fs layer
72f138d46980: Pulling fs layer
72f138d46980: Verifying Checksum
72f138d46980: Download complete
fd5173d17220: Verifying Checksum
fd5173d17220: Download complete
378c9540b231: Verifying Checksum
378c9540b231: Download complete
378c9540b231: Pull complete
fd5173d17220: Pull complete
72f138d46980: Pull complete
Digest: sha256:97c4cddbbf97299f5eda09946ba31d424c84848d4f4c1b7adef40e2e0d478345
Status: Downloaded newer image for node:14.14.0-alpine
 ---> fa2fa5d4e6f4
Step 2/6 : WORKDIR "/app"
 ---> Running in 8e85ba12a796
Removing intermediate container 8e85ba12a796
 ---> be1b58f87312
Step 3/6 : COPY ./package.json ./
 ---> d896685383a7
Step 4/6 : RUN npm install
 ---> Running in f506a8f19c16
[91mnpm[0m[91m WARN deprecated chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
[0m[91mnpm WARN deprecated fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
[0m[91mnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
[0m
> nodemon@1.18.3 postinstall /app/node_modules/nodemon
> node bin/postinstall || exit 0

[32mLove nodemon? You can now support the project via the open collective:[22m[39m
 > [96m[1mhttps://opencollective.com/nodemon/donate[0m

[91mnpm notice[0m[91m created a lockfile as package-lock.json. You should commit this file.
[0m[91mnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.2.7 (node_modules/chokidar/node_modules/fsevents):
[0m[91mnpm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.13: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
[0m[91mnpm WARN app No description
[0m[91mnpm WARN app No repository field.
[0m[91mnpm WARN app No license field.
[0m[91m
[0madded 305 packages from 192 contributors and audited 306 packages in 6.339s
found 0 vulnerabilities

Removing intermediate container f506a8f19c16
 ---> a2edbd4f0923
Step 5/6 : COPY . .
 ---> a33b499a483d
Step 6/6 : CMD ["npm", "run", "start"]
 ---> Running in 785f09dff8a2
Removing intermediate container 785f09dff8a2
 ---> bd744c22c236
Successfully built bd744c22c236
Successfully tagged [secure]/multi-server:latest
travis_time:end:20b16550:start=1605143558948795562,finish=1605143572478780453,duration=13529984891,event=after_success
[0Ktravis_fold:end:after_success.3
[0Ktravis_fold:start:after_success.4
[0Ktravis_time:start:0eacdd82
[0K$ docker build -t [secure]/multi-worker ./worker
Sending build context to Docker daemon  6.144kB


Step 1/6 : FROM node:alpine
 ---> b3dce3e0529f
Step 2/6 : WORKDIR "/app"
 ---> Using cache
 ---> c8c8f96175e0
Step 3/6 : COPY ./package.json ./
 ---> f9fc62e1b84f
Step 4/6 : RUN npm install
 ---> Running in 38ef39d1d6a8
[91mnpm[0m[91m WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated
[0m[91mnpm[0m[91m WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated
[0m[91mnpm WARN deprecated[0m[91m fsevents@1.2.13: fsevents 1 will break on node v14+ and could be using insecure binaries. Upgrade to fsevents 2.
[0m[91mnpm WARN deprecated[0m[91m chokidar@2.1.8: Chokidar 2 will break on node v14+. Upgrade to chokidar 3 with 15x less dependencies.
[0m
added 240 packages, and audited 240 packages in 8s

found 0 vulnerabilities
[91mnpm notice[0m[91m 
npm notice New patch version of npm available! 7.0.8 -> 7.0.10
npm[0m[91m notice Changelog: <https://github.com/npm/cli/releases/tag/v7.0.10>
npm [0m[91mnotice Run `npm install -g npm@7.0.10` to update!
[0m[91mnpm notice 
[0mRemoving intermediate container 38ef39d1d6a8
 ---> 9a1c12dd1070
Step 5/6 : COPY . .
 ---> 62a707b78b5e
Step 6/6 : CMD ["npm", "run", "start"]
 ---> Running in e42da6f2b006
Removing intermediate container e42da6f2b006
 ---> aa415ae1ba65
Successfully built aa415ae1ba65
Successfully tagged [secure]/multi-worker:latest
travis_time:end:0eacdd82:start=1605143572486602505,finish=1605143582325301142,duration=9838698637,event=after_success
[0Ktravis_fold:end:after_success.4
[0Ktravis_fold:start:after_success.5
[0Ktravis_time:start:00d5f8c2
[0K$ echo "$DOCKER_PASSWORD" | docker login -u "$DOCKER_ID" --password-stdin
WARNING! Your password will be stored unencrypted in /home/travis/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
travis_time:end:00d5f8c2:start=1605143582330663615,finish=1605143582710530724,duration=379867109,event=after_success
[0Ktravis_fold:end:after_success.5
[0Ktravis_fold:start:after_success.6
[0Ktravis_time:start:0eb06a40
[0K$ docker push [secure]/multi-client
The push refers to repository [docker.io/[secure]/multi-client]
2dd9731c1d4b: Preparing
cd145fa73a3b: Preparing
7b5417cae114: Preparing
aee208b6ccfb: Preparing
2f57e21e4365: Preparing
2baf69a23d7a: Preparing
d0fe97fa8b8c: Preparing
2baf69a23d7a: Waiting
d0fe97fa8b8c: Waiting
7b5417cae114: Layer already exists
aee208b6ccfb: Layer already exists
2f57e21e4365: Layer already exists
2baf69a23d7a: Layer already exists
d0fe97fa8b8c: Layer already exists
cd145fa73a3b: Pushed
2dd9731c1d4b: Pushed
latest: digest: sha256:8cdf6534f381d02fc2bfe4cf82dc62bc0ac8ae0c3f6fe87b07ce5fc92a962591 size: 1779
travis_time:end:0eb06a40:start=1605143582716979973,finish=1605143589405384627,duration=6688404654,event=after_success
[0Ktravis_fold:end:after_success.6
[0Ktravis_fold:start:after_success.7
[0Ktravis_time:start:017621d0
[0K$ docker push [secure]/multi-nginx
The push refers to repository [docker.io/[secure]/multi-nginx]
11fd8c1ac33a: Preparing
7b5417cae114: Preparing
aee208b6ccfb: Preparing
2f57e21e4365: Preparing
2baf69a23d7a: Preparing
d0fe97fa8b8c: Preparing
d0fe97fa8b8c: Waiting
7b5417cae114: Layer already exists
2baf69a23d7a: Layer already exists
2f57e21e4365: Layer already exists
aee208b6ccfb: Layer already exists
d0fe97fa8b8c: Layer already exists
11fd8c1ac33a: Pushed
latest: digest: sha256:d6803fc63f7a4521ca1ff2c92efa63b8a9b70561fc4d4bd83d99e2d714c16836 size: 1569
travis_time:end:017621d0:start=1605143589409367503,finish=1605143595215704627,duration=5806337124,event=after_success
[0Ktravis_fold:end:after_success.7
[0Ktravis_fold:start:after_success.8
[0Ktravis_time:start:2332c62e
[0K$ docker push [secure]/multi-server
The push refers to repository [docker.io/[secure]/multi-server]
027516355f91: Preparing
e41865ce6224: Preparing
529cb2aac96a: Preparing
ca1fd1486664: Preparing
61f945ebd234: Preparing
0c56cb2aff7a: Preparing
44a4ced26d67: Preparing
3e207b409db3: Preparing
0c56cb2aff7a: Waiting
44a4ced26d67: Waiting
3e207b409db3: Waiting
61f945ebd234: Layer already exists
0c56cb2aff7a: Layer already exists
44a4ced26d67: Layer already exists
3e207b409db3: Layer already exists
529cb2aac96a: Pushed
ca1fd1486664: Pushed
027516355f91: Pushed
e41865ce6224: Pushed
latest: digest: sha256:adc0347c65c5e75245f88cdbdee29f9bc11c3345901bde711671419b483d6898 size: 1991
travis_time:end:2332c62e:start=1605143595220581794,finish=1605143603525654708,duration=8305072914,event=after_success
[0Ktravis_fold:end:after_success.8
[0Ktravis_fold:start:after_success.9
[0Ktravis_time:start:09553e8c
[0K$ docker push [secure]/multi-worker
The push refers to repository [docker.io/[secure]/multi-worker]
0b9584ca83f0: Preparing
b9bb49012ec4: Preparing
c05fa66cf0c3: Preparing
0751db8fc2f5: Preparing
675b9a4518fd: Preparing
519a6904cbad: Preparing
8db021fb3b7f: Preparing
3e207b409db3: Preparing
519a6904cbad: Waiting
8db021fb3b7f: Waiting
3e207b409db3: Waiting
675b9a4518fd: Layer already exists
519a6904cbad: Layer already exists
8db021fb3b7f: Layer already exists
3e207b409db3: Layer already exists
c05fa66cf0c3: Pushed
0b9584ca83f0: Pushed
0751db8fc2f5: Pushed
b9bb49012ec4: Pushed
latest: digest: sha256:e52f359500feaff578f671a724e947aabe616f94b2ad29fa48c3d996e7db5cb5 size: 1990
travis_time:end:09553e8c:start=1605143603531162388,finish=1605143610778367974,duration=7247205586,event=after_success
[0Ktravis_fold:end:after_success.9
[0Ktravis_fold:start:dpl_0
[0Ktravis_time:start:02d66b39
[0K$ rvm $(travis_internal_ruby) --fuzzy do ruby -S gem install dpl
Successfully installed dpl-1.10.15
1 gem installed
travis_time:end:02d66b39:start=1605143612035469673,finish=1605143613455604281,duration=1420134608,event=after_success
[0Ktravis_fold:end:dpl_0
[0Ktravis_time:start:03babb1a
[0Ktravis_fold:start:dpl.1
[33mInstalling deploy dependencies[0m
Successfully installed jmespath-1.4.0
Successfully installed aws-eventstream-1.1.0
Successfully installed aws-sigv4-1.2.2
AWS SDK For Ruby V2 has been marked as deprecated. Please upgrade to AWS SDK For Ruby V3.
Successfully installed aws-sdk-core-2.11.625
AWS SDK For Ruby V2 has been marked as deprecated. Please upgrade to AWS SDK For Ruby V3.
Successfully installed aws-sdk-resources-2.11.625
AWS SDK For Ruby V2 has been marked as deprecated. Please upgrade to AWS SDK For Ruby V3.
Successfully installed aws-sdk-2.11.625
Successfully installed rubyzip-1.3.0
Successfully installed dpl-elastic_beanstalk-1.10.15
8 gems installed

!!! AWS Elastic Beanstalk support is experimental !!!


travis_fold:end:dpl.1
travis_fold:start:dpl.2
[33mPreparing deploy[0m
Cleaning up git repository with `git stash --all`. If you need build artifacts for deployment, set `deploy.skip_cleanup: true`. See https://docs.travis-ci.com/user/deployment#Uploading-Files-and-skip_cleanup.
No local changes to save
Version 2 of the Ruby SDK will enter maintenance mode as of November 20, 2020. To continue receiving service updates and new features, please upgrade to Version 3. More information can be found here: https://aws.amazon.com/blogs/developer/deprecation-schedule-for-aws-sdk-for-ruby-v2/

travis_fold:end:dpl.2
travis_fold:start:dpl.3
[33mDeploying application[0m

travis_fold:end:dpl.3
No stash entries found.
travis_time:end:03babb1a:start=1605143613462596723,finish=1605143623596705317,duration=10134108594,event=after_success
[0K
Done. Your build exited with 0.
